<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>AR.js + Porsche 911 + Rotation Test</title>

    <!-- A-Frame (newer version) -->
    <script src="https://aframe.io/releases/1.2.0/aframe.min.js"></script>

    <!-- AR.js -->
    <script src="https://cdn.jsdelivr.net/gh/AR-js-org/AR.js@3.4.2/aframe/build/aframe-ar.js"></script>
  </head>

  <body style="margin: 0; overflow: hidden;">
    <a-scene embedded arjs="sourceType: webcam;">

      <!-- Lighting -->
      <a-entity light="type: directional; color: #ffffff; intensity: 1.2" position="2 2 1"></a-entity>
      <a-entity light="type: directional; color: #ffaa55; intensity: 0.8" position="-2 2 -1"></a-entity>
      <a-entity light="type: ambient; color: #444444"></a-entity>

      <!-- Assets -->
      <a-assets>
        <a-asset-item 
          id="911" 
          src="https://S0INC.github.io/free_1975_porsche_911_930_turbo.glb">
        </a-asset-item>
      </a-assets>

      <!-- Marker -->
      <a-marker preset="hiro">

        <!-- Rotating wrapper -->
        <a-entity 
          id="rotator" 
          rotation="0 0 0"
          animation="property: rotation; to: 0 360 0; loop: true; dur: 8000; easing: linear;">
          
          <!-- Car model -->
          <a-entity 
            gltf-model="#911" 
            scale="0.5 0.5 0.5" 
            position="0 0 0">
          </a-entity>

          <!-- Test Box to Confirm Rotation -->
          <a-box 
            position="1 0.5 0" 
            depth="0.3" 
            height="0.3" 
            width="0.3" 
            color="red">
          </a-box>
        </a-entity>

        <!-- Label -->
        <a-text 
          value="1975 Porsche 911 Turbo" 
          position="0 1 0" 
          scale="1 1 1" 
          color="white" 
          align="center">
        </a-text>
      </a-marker>

      <!-- AR Camera -->
      <a-entity camera></a-entity>
    </a-scene>
  </body>
</html>
